

<h1>Adicionar e Editar</h1>

<div class="card border-primary mb-3">

  <div class="card-body">
    <h5 class="card-header">Tabela de dados</h5>
      <table  id= "table-data" class="table table-hover">
        <thead style="background-color: #c27878 !important">
          <tr class="table-dark">
            <th scope="col">Título</th>
            <th scope="col">Descrição</th>
            <th scope="col">Data de Publicação</th>
            <th scope="col">Categoria</th>
            <th scope="col">   </th>

          </tr>
        </thead>

        <tbody *ngFor="let item of list" id="resulting-table" >
          <!-- resultados -->
            <tr class="table-secondary">
              <td scope="row"> {{item.titulo}} </td>
              <td > {{item.descricao}} </td>
              <td > {{dateFormat(item.publicacao)}} </td>
              <td > {{item.categoria}} </td>
              <td >
                <button type="button" class="btn btn-secondary btn-sm btn-edit" (click)="editItem(item)">Editar</button>
                <button type="button" class="btn btn-secondary btn-sm btn-edit" (click)="deleteItem(item)">Deletar</button>
              </td>
        </tbody>
    </table>

    <button id="clean-btn" class = "btn btn-primary" style="margin-top: 6px" (click)="formAddData()" style="margin-right: 10px; float: right">Adicionar na Tabela</button>

  </div>
</div>

<div class="card border-primary mb-3">

    <div id="add-card" class="card add-item" style="display:none">
      <h5 class="card-header">Adicionar e editar</h5>
      <div class="card-body">

          <form id="add-form" (ngSubmit)="f.form.valid && saveItem(f)" #f="ngForm" novalidate>
            <div class="form-group">
                <label for="titulo">Titulo</label>
                <input type="text" [(ngModel)]="item.titulo" id="titulo" name="titulo" #titulo="ngModel" required class="form-control" [ngClass]="{ 'is-invalid': f.submitted && titulo.invalid }" placeholder="Digite o titulo">
                <div *ngIf="f.submitted && titulo.invalid" class="invalid-feedback">
                    <div *ngIf="titulo?.errors?.required">Titulo é obrigatório</div>
                </div>
            </div>
            <div class="form-group">
                <label for="color">Descrição</label>
                <input type="text" [(ngModel)]="item.descricao" id="descricao" name="descricao" #descricao="ngModel" required class="form-control" [ngClass]="{ 'is-invalid': f.submitted && descricao.invalid }" placeholder="Digite a descrição">
                <div *ngIf="f.submitted && descricao.invalid" class="invalid-feedback">
                    <div *ngIf="descricao?.errors?.required">Descrição é obrigatória</div>
                </div>
            </div>
            <div class="form-group">
                <label for="data">Data de Publicação</label>
                <input type="date" [(ngModel)]="item.publicacao" id="publicacao" name="publicacao" #publicacao="ngModel" required class="form-control" [ngClass]="{ 'is-invalid': f.submitted && publicacao.invalid }" placeholder="Digite a data de publicação">
                <div *ngIf="f.submitted && publicacao.invalid" class="invalid-feedback">
                    <div *ngIf="publicacao?.errors?.required">Data de Publicação</div>
                </div>
            </div>
            <div class="form-group">
                <label for="categoria">Categoria</label>
                <select [(ngModel)]="item.categoria" id="categoria" name="categoria" #categoria="ngModel" required class="form-control" [ngClass]="{ 'is-invalid': f.submitted && categoria.invalid }" placeholder="Digite a categoria">
                  <option value="Categoria 1"> Categoria 1 </option>
                  <option value="Categoria 2"> Categoria 2 </option>
                  <option value="Categoria 3"> Categoria 3 </option>
                  <div *ngIf="f.submitted && categoria.invalid" class="invalid-feedback">
                      <div *ngIf="categoria?.errors?.required">Categoria</div>
                  </div>
                </select>
            </div>
            <button id="save-button" type="submit" class="btn btn-primary btn-add">Salvar</button>
            <button type="reset" class="btn btn-secondary btn-add" (click)="cleanForm(f)">Cancelar</button>
          </form>
        </div>
      </div>
</div>
